{"version":3,"sources":["index.ts"],"names":[],"mappings":";AAaA,aAbA,IAAI,EAAiB,IAAI,IAAI,CAAC,QAAS,mBAAoB,QAAS,SAAU,UAE9E,OAAO,OAAS,WACR,IAAA,EAAa,SAAS,eAAe,SACzC,EAAe,QAAQ,SAAC,GACpB,EAAW,iBAAiB,EAAW,SAAC,GAChC,IAAA,EAAe,EAAG,QACR,IAAI,GACV,WAAW,QAK/B,IAAA,EAAA,WAAA,SAAA,KAgCA,OAzBW,EAAA,UAAA,WAAP,SAAkB,GAEV,IAAA,EAAW,EAAa,MACxB,EAAQ,OAAO,GAEF,SAEb,MAAM,GAKN,IACA,GADkB,EAAQ,EAAiB,YACA,EAAiB,oBAQzD,OANH,EAAyB,EAAiB,qBAC7B,4BAIN,IAAI,KAAK,GACR,eA1BT,EAAA,WAAqB,YACrB,EAAA,oBAA8B,IAE9B,EAAA,oBAA8B,OA2BzC,EAhCA","file":"src.0b720138.js","sourceRoot":"..\\src","sourcesContent":["var possibleEvents = new Set([\"input\", \"onpropertychange\", \"keyup\", \"change\", \"paste\"]);\r\n\r\nwindow.onload = () => {\r\n    var ticksInput = document.getElementById(\"ticks\") as HTMLInputElement;\r\n    possibleEvents.forEach((eventName: string) => {\r\n        ticksInput.addEventListener(eventName, (ev: Event) => {\r\n            var inputElement = ev.target as HTMLInputElement;\r\n            var handler = new TickInputHandler();\r\n            handler.showResult(inputElement);\r\n        })\r\n    });\r\n};\r\n\r\nclass TickInputHandler {\r\n    // Ticks value for date 01-01-1970\r\n    static epochTicks: number = 621355968000000000;\r\n    static ticksPerMillisecond: number = 10000;\r\n    // http://ecma-international.org/ecma-262/5.1/#sec-15.9.1.1\r\n    static maxDateMilliseconds: number = 8640000000000000;\r\n\r\n    public showResult(inputElement: HTMLInputElement) {\r\n        // Get value from the input and try to convert it to type Number\r\n        var valueStr = inputElement.value;\r\n        var ticks = Number(valueStr);\r\n\r\n        var dateString = String();\r\n        // If we were not able to parse input as a Number - show empty DateTimeString\r\n        if (isNaN(ticks)) {\r\n            dateString = \"____-__-__T__:__:__.____Z\";\r\n        }\r\n\r\n        // convert the ticks into something typescript understands\r\n        var ticksSinceEpoch = ticks - TickInputHandler.epochTicks;\r\n        var millisecondsSinceEpoch = ticksSinceEpoch / TickInputHandler.ticksPerMillisecond;\r\n        // If the value of the input is more than max value - show special DateTime string for this case\r\n        if (millisecondsSinceEpoch > TickInputHandler.maxDateMilliseconds) {\r\n            dateString = \"9999-99-99T99:99:99:9999Z\";\r\n        }\r\n\r\n        // output the result in something the human understands\r\n        var date = new Date(millisecondsSinceEpoch);\r\n        return date.toISOString();\r\n        var dateTimeOutput = document.getElementById(\"datetime\");\r\n        dateTimeOutput.innerHTML = dateString;\r\n    }\r\n}"]}